
<polymer-element name="products-container">
  <template>
    <style>
      :host {
      }
      #core_card {
        margin-top: 15px;
        background-color: rgba(29, 100, 155, 0.5);
        border-radius: 5px;
        height: 300px;
        padding-top: 20px;
      }
      #img{
        width: 100%;
        height: 100%;
      }
      #imgContainer{
        height: 200px;
        width: 100px;
        margin-top: 30px;
      }
      core-input#title /deep/ #input,textarea{
        text-align:center;
        text-shadow: 2px 2px 4px #000000;
      }
      core-input#shipping /deep/ #input,textarea{
        text-align:center;
        text-shadow: 1px 1px 2px #000000;
      }
      #title{
        width: 100%;
        color:white;

      }
      #shipping{
        width: 100%;
        color:rgba(255,255,255,0.7);
        margin-top: 10px;
      }
      #img{
        height: 130px;
        width: 110px;
        margin-bottom: 50px;
      }
      .fancy::shadow .core-tooltip {
        opacity: 2;
        -webkit-transition: all 300ms cubic-bezier(0,1.92,.99,3.07);
        transition: all 300ms cubic-bezier(0,1.92,1.99,1.07);
        -webkit-transform: translate3d(0px, 20px, 0);
        transform: translate3d(0px, -12px, 0);
      }
      .fancy:hover::shadow .core-tooltip, .fancy:focus::shadow .core-tooltip {
        opacity: 1;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 2px, 0);
      }
      #logo {
        height: 130px;
        width: 110px;
        margin-left: 90%;
      }
      paper-spinner.blue::shadow .circle {
        border-color: rgb(24, 87, 134);
      }
      #divSpinner {
        width: 100%;
        height: 60px;
        margin-top: 10px;
      }
      
    </style>
    <using-api id="usingApi"></using-api>

    <template repeat="{{ product in products.item }}">  
      <core-card id="core_card" layout vertical center >
        <core-input id="title" readonly  value="{{ product.title[0] }}"></core-input>
        <div id="imgContainer">
          <core-tooltip label="View Product " position="bottom" class="fancy">
            <a id="a" href="{{ product.viewItemURL[0] }}"><img id ="img" src="{{ product.galleryURL[0] }}" ></a>
          </core-tooltip>
        </div>
        <core-input id="title" readonly  value="{{product.sellingStatus[0].convertedCurrentPrice[0].__value__}} {{ product.sellingStatus[0].convertedCurrentPrice[0].currencyId }}"></core-input>
        <core-input id="shipping" readonly  value="Shipping cost: {{ product.shippingInfo[0].shippingServiceCost[0].value }} {{ product.shippingInfo[0].shippingServiceCost[0].currencyID }}"></core-input>
        <img id ="logo" src="../img/EBay_logo.png" >
      </core-card>

    </template>
    
    <div id="divSpinner" layout vertical center>
    <paper-spinner id="spinner" class="blue"></paper-spinner>
    </div>
  
  </template>


  <script>

    Polymer({
      data: {
        value: 0
      },
      loadData: function (result) {
        var items = result.findItemsByKeywordsResponse[0].searchResult[0];
        this.$.spinner.active = true;
        if (this.products) {
          this.products.item = this.products.item.concat(items.item);
        } else {
          this.products = items;
          this.data.value = 1;
        }
      },
      emptyArray: function () {
        this.products.item.length = 0;
      }
    });
  </script>
</polymer-element>
