<polymer-element name="announcement-page">
  <template>
    <style>
      :host{
      }
      #advert{
         margin: 6px;
         padding: 6px;
      }
      p{
        margin-bottom: 6px;
      }
      textarea{
        width: 400px;
        height: 220px;
        resize: none;
      }


    </style>
    <proposal-model id="proposal"></proposal-model>

    <core-card  id="core_card" layout vertical center fit>

      
      <div id="advert"><p>Introduce your advert:</p>
        <textarea id="textarea"></textarea>
        <p>Introduce your contact email:</p>
        <paper-input id="mail" placeholder="email@example.com"></paper-input>
      </div>
      <paper-button raised on-click="{{ toast }}">Publish Ad</paper-button>
      <paper-toast id="popup" text="A new acquisition announcement has been published"></paper-toast>
    </core-card>

  </template>
    <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io();
                socket.addEvent(function() {
				addListeners.call(this, static);
			
                        function addListeners(static) {
                            this.on('createPublishment', function() {
                                console.log("Publicacion Creada");
                            )};
                        }
                });
            
        </script>
  <script>
      
    Polymer({
      toast: function () {
        post = {
          content:this.$.textarea.value,
          mail:this.$.mail.value
          
        }
        var result = this.$.proposal.publishPost(JSON.stringify(post));
        this.$.popup.show();
      }

    });
  </script>
</polymer-element>
